(this.webpackJsonpquizy_ui=this.webpackJsonpquizy_ui||[]).push([[0],{40:function(e,t,a){e.exports=a.p+"static/media/logo-root.20b808e8.svg"},57:function(e,t,a){e.exports=a(69)},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),c=a.n(i),o=a(99),l=a(25),s=a(18),u=a(41),m=a(94),d=a(95),p=a(70),f=a(72),b=a(96),v=a(92),g=a(93),E=a(40),h=a.n(E),x=Object(u.a)((function(){return{toolbar:{minHeight:"45px",boxShadow:"0 0 5px 0 rgba(0,0,0, .1)",background:"#000"},image:{width:"100%",maxWidth:"120px"}}}));var y=function(){var e=x();return r.a.createElement(v.a,{position:"static"},r.a.createElement(g.a,{className:e.toolbar},r.a.createElement("img",{src:h.a,className:e.image,alt:"SoftServe logo"})))},O=Object(u.a)((function(){return{root:{marginTop:"20px",padding:"15px 20px"},title:{},description:{marginTop:"10px"},button:{marginTop:"20px",background:"#2b2b2b","&:hover":{background:"#000"}},link:{textDecoration:"none"}}}));var w=function(){var e=O();return r.a.createElement(n.Fragment,null,r.a.createElement(y,null),r.a.createElement(m.a,{fixed:!0,maxWidth:"md",spacing:1},r.a.createElement(d.a,{container:!0,direction:"row"},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(p.a,{square:!0,className:e.root},r.a.createElement(f.a,{variant:"h5"},"Title"),r.a.createElement(f.a,{variant:"body1",className:e.description},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur ac lacinia dui, a imperdiet libero. Ut dapibus felis sit amet mi tempor, egestas rutrum turpis ultrices. Sed mauris justo, semper vitae elit bibendum, tempor consectetur massa. Morbi lectus felis, porta et lacus eu, porttitor viverra enim. Quisque suscipit a tortor eu tincidunt. Etiam feugiat lectus ut ligula dignissim eleifend quis et nisl. Nunc molestie bibendum libero vitae aliquam. Vivamus at euismod metus, a laoreet nibh.")))),r.a.createElement(d.a,{container:!0,direction:"row",align:"center"},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(l.b,{to:"/quiz",className:e.link},r.a.createElement(b.a,{variant:"contained",color:"primary",to:"/quiz",className:e.button},"Start"))))))},j=a(32),N=a.n(j),S=a(44),k=a(13),q=a(45),I=a(46),F=a(51),T=a(47),_=a(52),C=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(F.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?this.props.fallback:this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(n.Component);var D=a(27),A=a(97),B=a(98),J=a(101),P=a(102),M=Object(u.a)((function(){return{fieldset:{width:"100%"}}}));var W=function(e){var t=e.question,a=e.selectedAnswer,n=e.setAnswers,i=Object(A.a)("(max-width:600px)"),c=M(),o=t.answers.map((function(e){return r.a.createElement(B.a,{key:e._id,control:r.a.createElement(J.a,{checked:a===e._id,value:e._id,onChange:function(e){!function(e){e.persist(),n((function(a){var n=new Map(Object(D.a)(a));return n.set(t._id,e.target.value),localStorage.setItem("answers",JSON.stringify(Array.from(n.entries()))),n}))}(e)},name:"answer".concat(t._id)}),label:e.description})}));return r.a.createElement("div",null,r.a.createElement(f.a,{variant:i?"h6":"h5"},e.question.description),r.a.createElement(P.a,{component:"fieldset",className:c.fieldset},o))},z=Object(u.a)((function(){return{button:{marginLeft:"15px",background:"#2b2b2b","&:hover":{background:"#000"}}}}));var L=function(e){var t=z();return r.a.createElement("nav",{className:e.className},r.a.createElement(b.a,{variant:"contained",onClick:e.onPrev,disabled:e.isPrevDisabled},"Prev"),r.a.createElement(b.a,{variant:"contained",color:"primary",className:t.button,onClick:e.onNext,disabled:e.isNextDisabled},"Next"),r.a.createElement(b.a,{variant:"contained",style:{display:"".concat(e.isFinished?"inline-flex":"none")},color:"primary",className:t.button,onClick:e.onFinish},"Finish"))},H="",Q=a(100),U=a(50),V=a.n(U),$=a(34),G=a.n($),K=Object(u.a)((function(){return{root:{padding:"20px"},categoryBox:{display:"flex",alignItems:"center"},categories:{marginTop:"10px"},title:{}}}));var R=function(e){var t=e.scale,a=K(),n=t.categories.filter((function(e){return t.value>=e.range.low&&t.value<e.range.high}));return r.a.createElement(p.a,{square:!0,className:a.root},r.a.createElement(f.a,{variant:"h5",className:a.title},t.scaleTitle),r.a.createElement(Q.a,{className:a.categoryBox},r.a.createElement(G.a,null),r.a.createElement(f.a,{variant:"subtitle1"},"\u0412\u0430\u0448 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: ",t.value)),!!n.length&&r.a.createElement(Q.a,{className:a.categoryBox},r.a.createElement(G.a,null),r.a.createElement(f.a,{variant:"subtitle1"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f:",n.map((function(e){return e.title})))),r.a.createElement(d.a,{container:!0,direction:"row",spacing:2,className:a.categories},t.categories.map((function(e){return r.a.createElement(d.a,{item:!0,xs:12,md:6,key:e.title},r.a.createElement(Q.a,{className:a.categoryBox},r.a.createElement(V.a,null),r.a.createElement(f.a,{variant:"h6"},e.title)),r.a.createElement(f.a,{variant:"body2"},"\u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457: ",e.range.low),r.a.createElement(f.a,{variant:"body2"},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457: ",e.range.high),r.a.createElement(f.a,{variant:"body1"},e.description))}))))},X=Object(u.a)((function(){return{root:{marginTop:"20px"}}}));var Y=function(e){var t=e.scales,a=e.profileId,n=X();return r.a.createElement("div",{className:n.root},r.a.createElement(d.a,{container:!0,direction:"row",spacing:2},t.map((function(e){return r.a.createElement(d.a,{item:!0,xs:12,key:e.id},r.a.createElement(R,{scale:e}))})),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(b.a,{variant:"contained",href:"".concat(H,"/api/profiles/").concat(a,"?format=document"),target:"_blank"},"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 PDF"))))},Z=Object(u.a)((function(){return{root:{marginTop:"20px",padding:"15px 20px"},nav:{marginTop:"10px"}}}));var ee=function(e){var t=e.questions,a=Z(),i=Object(n.useState)(0),c=Object(k.a)(i,2),o=c[0],l=c[1],s=Object(n.useState)(new Map),u=Object(k.a)(s,2),m=u[0],d=u[1],f=Object(n.useState)(!1),b=Object(k.a)(f,2),v=b[0],g=b[1],E=Object(n.useState)(!1),h=Object(k.a)(E,2),x=h[0],y=h[1],O=Object(n.useState)([]),w=Object(k.a)(O,2),j=w[0],N=w[1],S=Object(n.useState)(""),q=Object(k.a)(S,2),I=q[0],F=q[1],T=Object(n.useState)(!0),_=Object(k.a)(T,2),C=_[0],A=_[1],B=Object(n.useState)(!1),J=Object(k.a)(B,2),P=J[0],M=J[1];Object(n.useEffect)((function(){localStorage.getItem("answers")?d(new Map(JSON.parse(localStorage.getItem("answers")))):t.forEach((function(e){d((function(t){var a=new Map(Object(D.a)(t));return a.set(e._id,e.answers[0]._id),localStorage.setItem("answers",JSON.stringify(Array.from(a.entries()))),a}))}));var e=+localStorage.getItem("index");e&&(e>0&&A(!1),l(e))}),[t]);var z=t.map((function(e){var t=new Map(JSON.parse(localStorage.getItem("answers"))).get(e._id);return r.a.createElement(W,{question:e,selectedAnswer:t||m.get(e._id),setAnswers:d,setNextDisabled:M})})),Q=null;z.length&&(Q=r.a.createElement(L,{onNext:function(){l((function(e){var a=e+1;return a>0&&A(!1),a===t.length-1&&(M(!0),g(!0)),localStorage.setItem("index",a),a}))},onPrev:function(){l((function(e){var a=e-1;return a!==t.length-1&&(M(!1),g(!1)),0===a&&A(!0),localStorage.setItem("index",a),a}))},onFinish:function(){var e,t={questions:[]},a=!0,n=!1,r=void 0;try{for(var i,c=m[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var o=i.value,l=Object(k.a)(o,2),s=l[0],u=l[1];t.questions.push({questionId:s,answerId:u})}}catch(d){n=!0,r=d}finally{try{a||null==c.return||c.return()}finally{if(n)throw r}}(e="".concat(H,"/api/profiles"),fetch(e,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)}).then((function(e){return e.json()}))).then((function(e){localStorage.removeItem("answers"),localStorage.removeItem("index"),y(!0),N(e.scales),F(e.id)}))},className:a.nav,isFinished:v,isPrevDisabled:C,isNextDisabled:P}));var U=r.a.createElement(n.Fragment,null,r.a.createElement(p.a,{className:a.root,square:!0},z[o],Q));return r.a.createElement(n.Fragment,null,x?r.a.createElement(Y,{profileId:I,scales:j}):U)};var te=function(e){function t(t){return r.a.createElement(C,{fallback:t.fallback},r.a.createElement(e,t))}var a;return t.displayName="withErrorBoundary(".concat((a=e).displayName||a.name||"Component",")"),t}((function(){var e=Object(n.useState)([]),t=Object(k.a)(e,2),a=t[0],i=t[1];return Object(n.useEffect)((function(){function e(){return(e=Object(S.a)(N.a.mark((function e(t){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.prev=3,e.next=6,a.json();case 6:n=e.sent,i(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}("".concat(H,"/api/questions"))}),[]),r.a.createElement(n.Fragment,null,r.a.createElement(y,null),r.a.createElement(m.a,{fixed:!0,maxWidth:"md",spacing:1},r.a.createElement(ee,{questions:a})))}));var ae=function(e){return r.a.createElement(m.a,{fixed:!0,maxWidth:"md",spacing:1},r.a.createElement(f.a,{variant:"h4",style:{marginTop:"20px"}},"\u0412\u0438\u0431\u0430\u0447\u0442\u0435. \u0412\u0438\u043d\u0438\u043a\u043b\u0430 \u043f\u043e\u043c\u0438\u043b\u043a\u0430."))},ne=function(e){return r.a.createElement(l.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:w}),r.a.createElement(s.a,{path:"/quiz"},r.a.createElement(te,{fallback:r.a.createElement(ae,null)}))))};var re=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(o.a,null),r.a.createElement(ne,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[57,1,2]]]);
//# sourceMappingURL=main.3c6dbe8b.chunk.js.map